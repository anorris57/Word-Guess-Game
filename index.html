<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Periodic Table Hangman</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="assets/css/reset.css" type="text/css" rel="stylesheet"/>
    <link href="assets/css/style.css" type="text/css" rel="stylesheet"/>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">

  </head>
  
  <body onload="startUp()">
      <img src="assets/images/periodicTable.jpg" alt"Periodic Table" class="imagePeroidicTable img-responsive">
      <div class="centered">
        <div class="jumbotron">
          <h1>Periodic Table Hangman Game</h1>
          <p>Press any letter key to start!</p>
        </div>
        <div class="card-deck">
            <div class="card bg-primary">
              <div class="card-body text-center">
                <p class="card-text" id="choice"></p>
                <p class="card-text" id="all"></p>
              </div>
            </div>
            <div class="card bg-warning">
              <div class="card-body text-center">
                <p class="card-text" id="answer"></p>
                <p class="card-text" id="counter"></p>
              </div>
            </div>
            <div class="card bg-success">
              <div class="card-body text-center">
                <p class="card-text" id="result"></p>
              </div>
            </div>
            <div class="card bg-danger">
              <div class="card-body text-center">
                <p>Want to learn more?</p>
                <p class="card-text"><a href="https://www.ptable.com/" target="_blank"> Visit Dynanmic Periodic Table.com!</a></p>
              </div>
            </div>  
          </div>
      </div>
    </div>
    
    

    <!--Breakdown: 1.User input   2. compare letter to word  3. Return results of comparison 4.continue game  -->

    <script>
    //here we define our aray of words to chose from
    /*var randomElementsArr = ["hydrogen", "oxygen", "nitrogen", "silver", "lead", "gold", "iron", "lithuim", "helium", "cobalt"];*/
    var randomElementsArr = ["hydrogen", "lithium","gold","silver","helium","gallium","boron","neon","xeon","zinc","calcium","sodium"]

    var randomElement = randomElementsArr[Math.floor(Math.random() * randomElementsArr.length)];
    console.log(randomElement);

    
    //some global variables (can be used by any functions)
    var s;
    var count = 0; //counter
    //empty array to store the guesses
    var answerArray = [];
    var userChoice = [];
    var lockGame = false;
    
    


    //here we fill the answer array with under scores
    // Seperate step
    function startUp(){
      for (var i = 0; i < randomElement.length; i++)
      {
        answerArray[i] = "_";
        //console.log(answerArray);
      }
      s = answerArray.join(" ");
      //console.log(s);
      document.getElementById("answer").innerHTML = s;
    }
    
   
    
    document.onkeyup = function(event) {
    // Determines which key was pressed.The event.key is a built in Javascript function
    if (lockGame !== true);
    var userGuess = event.key;
    
    var userInput = userGuess.toLowerCase();
    console.log(userInput);
    for (var j = 0; j < randomElement.length; j++) {
         if (randomElement[j] === userInput) {
           answerArray[j] = userInput;
           console.log(answerArray);
         }
    }
    
    userChoice.push(userGuess);
    document.getElementById("all").innerHTML ="Letters chosen so far: " + userChoice.join();
    document.getElementById("choice").innerHTML = "Your choice(s): " + userGuess.toUpperCase();
    count++;
    var numGuess = count;
    //console.log(count);
    var totalGuess = randomElement.length;
    //console.log(totalGuess);
    var remainingGuess = totalGuess - numGuess;
    console.log (remainingGuess);
    document.getElementById("counter").innerHTML = "Number of guesses remaining " + remainingGuess;
    document.getElementById("answer").innerHTML = answerArray.join(" "); 
    //end result of game
    if (remainingGuess === 0) {
      document.getElementById("result").innerHTML = "The correct answer is " + randomElement; //+ " ." + "<br>   Refresh page to try again.";
      function myFunction(){
        document.location.reload();
      }
      setTimeout(myFunction, 5000);
      lockGame = true;
    }  
}
    
    
  
  
    
    
  </script>


    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T" crossorigin="anonymous"></script>







  </body>
  
</html>